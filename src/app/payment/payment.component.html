<!--Résumé de la commande-->

<div style="width: 100%;text-align: center;">

<br><br>
<span *ngIf="order?.nb_places>0">Vous souhaitez {{order?.nb_places}} places</span>
<span *ngIf="order?.total>0">&nbsp;pour un total de {{order?.total}}€ </span>
<div *ngIf="order?.total>0 && config.user?.money<order?.total" style="color:darkred;">
  Il manque {{order.total-config.user?.money}}€ sur votre compte pour acheter les places
</div>
<br>
<br>

  <div *ngIf="order.total<=config.user?.money">
    <button class="app-button" mat-button mat-flat-button
            *ngIf="order?.total>0 && order?.total<=config.user?.money"
            style="background-color: darkred;color:white;width:200px;"
            (click)="buy()">
      Acheter
    </button>
  </div>

  <div *ngIf="order.total>config.user?.money">
    <table style="width: 100%;" cellspacing="0" cellpadding="0">
      <tr>
        <th>Payer en Euro</th>
        <th>Payer en Ether</th>
      </tr>
      <tr style="padding:0px;">
        <td>
          <app-refund [amounts]="[order?.total-config.user?.account]"
                      [items]="tickets"
                      *ngIf="order?.total>config.user?.money"
                      [sandbox]="config.user?.offer=='pilote'"
                      (payment)="onpayment($event)">
          </app-refund>
        </td>
        <td>
          <qr-code [size]="150"
                   style="display: inline-block;vertical-align: middle;"
                   [value]="config.user?.address">
          </qr-code>
          <br>
          <div style="font-size: x-small;line-height: 105%;">
            {{config.user?.address.substr(0,20)}}<br>
            {{config.user?.address.substr(21)}}
          </div>
          <br>
          <button class="app-button" mat-icon-button mat-button mat-flat-button
                  title="Rafraichir le wallet pour afficher sa balance"
                  (click)="refresh_balance()">
            <mat-icon>refresh</mat-icon>
          </button>
        </td>
      </tr>

    </table>

  </div>
</div>
